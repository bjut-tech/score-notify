<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="color-scheme" content="light">
  <meta name="supported-color-schemes" content="light">
  <style>h1,h2,h3,p{margin-top:0;text-align:left}.content,.wrapper{-premailer-width:100%;padding:0;width:100%}.body,.wrapper{-premailer-cellpadding:0;-premailer-cellspacing:0;background-color:#edf2f7;margin:0}.action,.footer,.footer p,.header{text-align:center}.button,body{-webkit-text-size-adjust:none}.button,.header a{text-decoration:none}body,body :not(html):not(style):not(br):not(tr):not(code){box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';position:relative}body{background-color:#fff;color:#718096;height:100%;line-height:1.4;margin:0;padding:0;width:100%!important}blockquote,ol,p,ul{line-height:1.4;text-align:left}a{color:#3869d4}.header a,h1{color:#3d4852;font-weight:700}a img{border:none}h1{font-size:18px}h2{font-size:16px;font-weight:700}h3{font-size:14px;font-weight:700}p{font-size:16px;line-height:1.5em}p.sub{font-size:12px}img{max-width:100%}.content{-premailer-cellpadding:0;-premailer-cellspacing:0;margin:0}.header{padding:25px 0}.header a{font-size:19px}.logo{height:75px;max-height:75px;width:75px}.body{-premailer-width:100%;border-bottom:1px solid #edf2f7;border-top:1px solid #edf2f7;padding:0;width:100%}.footer,.inner-body{-premailer-cellpadding:0;-premailer-cellspacing:0;-premailer-width:570px;width:570px}.inner-body{background-color:#fff;border-color:#e8e5ef;border-radius:2px;border-width:1px;box-shadow:0 2px 0 rgba(0,0,150,.025),2px 4px 0 rgba(0,0,150,.015);margin:0 auto;padding:0}.subcopy{border-top:1px solid #e8e5ef;margin-top:25px;padding-top:25px}.subcopy p{font-size:14px}.footer{margin:0 auto;padding:0}.action,.table table{-premailer-cellpadding:0;-premailer-cellspacing:0;-premailer-width:100%;margin:30px auto;width:100%}.footer p{color:#b0adc5;font-size:12px}.footer a{color:#b0adc5;text-decoration:underline}.table th{border-bottom:1px solid #edeff2;margin:0;padding-bottom:8px}.table td{color:#74787e;font-size:15px;line-height:18px;margin:0;padding:10px 0;text-align:center}.content-cell{max-width:100vw;padding:32px}.action{padding:0}.button{border-radius:4px;color:#fff;display:inline-block;overflow:hidden}.button-blue,.button-primary{background-color:#2d3748;border-bottom:8px solid #2d3748;border-left:18px solid #2d3748;border-right:18px solid #2d3748;border-top:8px solid #2d3748}.button-green,.button-success{background-color:#48bb78;border-bottom:8px solid #48bb78;border-left:18px solid #48bb78;border-right:18px solid #48bb78;border-top:8px solid #48bb78}.button-error,.button-red{background-color:#e53e3e;border-bottom:8px solid #e53e3e;border-left:18px solid #e53e3e;border-right:18px solid #e53e3e;border-top:8px solid #e53e3e}.panel{border-left:4px solid #2d3748;margin:21px 0}.panel-content{background-color:#edf2f7;color:#718096;padding:16px}.panel-content p{color:#718096}.panel-item{padding:0}.panel-item p:last-of-type{margin-bottom:0;padding-bottom:0}.break-all{word-break:break-all}@media only screen and (max-width:600px){.footer,.inner-body{width:100%!important}}@media only screen and (max-width:500px){.button{width:100%!important}}</style>
</head>
<body>
<table class="wrapper" width="100%" cellpadding="0" cellspacing="0" role="presentation">
  <tr>
    <td align="center">
      <table class="content" width="100%" cellpadding="0" cellspacing="0" role="presentation">
        <tr>
          <td class="header"></td>
        </tr>
        <tr>
          <td class="body" width="100%" cellpadding="0" cellspacing="0" style="border: hidden !important;">
            <table class="inner-body" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation">
              <tr>
                <td class="content-cell">
                  {% if grades_new %}
                  <div class="table">
                    <table>
                      <tr>
                        <th colspan="4">新发布的成绩</th>
                      </tr>
                      <tr>
                        <th>课程名称</th>
                        <th>分数</th>
                        <th>学分</th>
                        <th>绩点</th>
                      </tr>
                      {% for grade in grades_new %}
                      <tr>
                        <td>{{ grade.name }}</td>
                        {% if grade.score < 60 %}
                        <td style="color: #ef4444">{{ grade.score }}</td>
                        {% else %}
                        <td>{{ grade.score }}</td>
                        {% endif %}
                        <td>{{ grade.credit }}</td>
                        {% if grade.included %}
                        <td>{{ grade.gp }}</td>
                        {% else %}
                        <td style="color: #9ca3af; font-size: 80%">不计入</td>
                        {% endif %}
                      </tr>
                      {% endfor %}
                    </table>
                  </div>
                  {% endif %}
                  <div class="table">
                    <table>
                      <tr>
                        <th colspan="4">所有成绩</th>
                      </tr>
                      <tr>
                        <th>课程名称</th>
                        <th>分数</th>
                        <th>学分</th>
                        <th>绩点</th>
                      </tr>
                      {% if grades_current %}
                      {% for grade in grades_current %}
                      <tr>
                        <td>{{ grade.name }}</td>
                        {% if grade.score < 60 %}
                        <td style="color: #ef4444">{{ grade.score }}</td>
                        {% else %}
                        <td>{{ grade.score }}</td>
                        {% endif %}
                        <td>{{ grade.credit }}</td>
                        {% if grade.included %}
                        <td>{{ grade.gp }}</td>
                        {% else %}
                        <td style="color: #9ca3af; font-size: 80%">不计入</td>
                        {% endif %}
                      </tr>
                      {% endfor %}
                      {% else %}
                      <tr>
                        <td colspan="4" style="color: #9ca3af">暂无已发布的成绩</td>
                      </tr>
                      {% endif %}
                    </table>
                  </div>
                  <div class="table">
                    <table>
                      <tr>
                        <th colspan="3">统计数据</th>
                      </tr>
                      <tr>
                        <th>加权平均分</th>
                        <th>GPA</th>
                      </tr>
                      <tr>
                        {% if score_average %}
                        <td>{{ score_average }}</td>
                        {% else %}
                        <td>N/A</td>
                        {% endif %}
                        {% if gpa %}
                        <td>{{ gpa }}</td>
                        {% else %}
                        <td>N/A</td>
                        {% endif %}
                      </tr>
                    </table>
                  </div>
                </td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td>
            <table class="footer" align="center" width="570" cellpadding="0" cellspacing="0" role="presentation">
              <tr>
                <td class="content-cell" align="center">
                  <p>
                    数据仅供参考，请以教务管理系统查询为准
                  </p>
                  <p>
                    <a href="https://github.com/bjut-tech/score-notify" style="text-decoration: none">
                      bjut.tech / score-notify
                    </a>
                  </p>
                </td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
</html>
